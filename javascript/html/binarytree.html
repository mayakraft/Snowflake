<html>
<head>
	<meta charset="UTF-8">
	<script language="javascript" type="text/javascript" src="../lib/p5.min.js"></script>
	<script language="javascript" type="text/javascript" src="../math/binarytree.js"></script>
	<script language="javascript" type="text/javascript" src="../graphics/render.js"></script>
	<style> body {padding: 0; margin: 0;} </style>
</head>
<body>
	<script>

// our tree
var a;

// this demonstrates a simple recursive tree building function based on random with a cap at 8th generation
function buildTree(tree){
	if(tree.generation > 5)
		return;

	if(random(0, 1) > 0.25){
		var l = tree.addLeftChild();
		buildTree(l);
	}
	if(random(0, 1) > 0.25){
		var r = tree.addRightChild();
		buildTree(r);
	}
}

function setup() {
	createCanvas(windowWidth, windowHeight);
	fill(0);
	a = new TreeNode();
	buildTree(a);
	logTree(a);
	noLoop();
}

function mousePressed() {
	a = new TreeNode();
	buildTree(a);
	logTree(a);
	draw();
}

function draw() {
	clear(255);

	var treePosition = {'x':windowWidth*.5, 'y':40};
	a.draw(a, treePosition);

	fill(0);
	stroke(0);

	var rBranchTreePosition = {'x':windowWidth*.5, 'y':windowHeight - 40};
	drawRightBranchingBinaryTree(a, rBranchTreePosition)

}

	</script>
</body>
</html>